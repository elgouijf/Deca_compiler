; test de la taille de la pile
	TSTO #28	; Taille maximale de la pile
	ADDSP #22
	BOV stack_overflow_error
; start main program
; Construction de la table des méthodes de Object
	LOAD #null, R0
	STORE R0, 1(GB)
	LOAD code.Object.equals, R0
	STORE R0, 2(GB)
; Construction de la table des méthodes de Helper
	LEA 1(GB), R0
	STORE R0, 3(GB)
	LOAD code.Object.equals, R0
	STORE R0, 4(GB)
	LOAD code.Helper.compute, R0
	STORE R0, 5(GB)
	LOAD code.Helper.check, R0
	STORE R0, 6(GB)
	LOAD code.Helper.getValue, R0
	STORE R0, 7(GB)
; Main program
; Beginning of main declarations:
; new ligne 28
	NEW #1, R2
	BOV tas_plein
	LEA 3(GB), R0
	STORE R0, 0(R2)
	PUSH R2
	BSR init.Helper
	POP R2
	STORE R2, 8(GB)
	LOAD #5, R1
	STORE R1, 9(GB)
	LOAD #3, R1
	STORE R1, 10(GB)
	LOAD #2, R1
	STORE R1, 11(GB)
	LOAD 9(GB), R1
	LOAD 10(GB), R2
	MUL 11(GB), R2
	BOV overflow_error
	ADD R2, R1
	BOV overflow_error
	LOAD 9(GB), R2
	QUO 10(GB), R2
	BOV division_by_zero_error
	SUB R2, R1
	BOV overflow_error
	LOAD 11(GB), R2
	REM 9(GB), R2
	BOV division_by_zero_error
	ADD R2, R1
	BOV overflow_error
	STORE R1, 12(GB)
	LOAD 9(GB), R1
	ADD 10(GB), R1
	BOV overflow_error
	LOAD 11(GB), R2
	SUB 9(GB), R2
	BOV overflow_error
	MUL R2, R1
	BOV overflow_error
	LOAD 10(GB), R2
	ADD 11(GB), R2
	BOV overflow_error
	QUO R2, R1
	BOV division_by_zero_error
	STORE R1, 13(GB)
	LOAD 9(GB), R1
	OPP R1, R1
	LOAD 10(GB), R2
	OPP R2, R2
	LOAD 11(GB), R3
	OPP R3, R3
	MUL R3, R2
	BOV overflow_error
	ADD R2, R1
	BOV overflow_error
	STORE R1, 14(GB)
	ADDSP #3
	LOAD 8(GB), R2
	STORE R2, 0(SP)
	LOAD 9(GB), R2
	STORE R2, -1(SP)
	LOAD 10(GB), R2
	STORE R2, -2(SP)
	LOAD 0(SP), R2
	CMP #null, R2
	BEQ dereferencement_null
	LOAD 0(R2), R2
	BSR 2(R2)
	SUBSP #3
	LOAD R0, R1
	ADDSP #3
	LOAD 8(GB), R3
	STORE R3, 0(SP)
	LOAD 10(GB), R3
	STORE R3, -1(SP)
	LOAD 11(GB), R3
	STORE R3, -2(SP)
	LOAD 0(SP), R3
	CMP #null, R3
	BEQ dereferencement_null
	LOAD 0(R3), R3
	BSR 2(R3)
	SUBSP #3
	LOAD R0, R2
	ADD R2, R1
	BOV overflow_error
	STORE R1, 15(GB)
	ADDSP #3
	LOAD 8(GB), R2
	STORE R2, 0(SP)
	ADDSP #3
	LOAD 8(GB), R3
	STORE R3, 0(SP)
	LOAD #1, R3
	STORE R3, -1(SP)
	LOAD #2, R3
	STORE R3, -2(SP)
	LOAD 0(SP), R3
	CMP #null, R3
	BEQ dereferencement_null
	LOAD 0(R3), R3
	BSR 2(R3)
	SUBSP #3
	LOAD R0, R2
	STORE R2, -1(SP)
	ADDSP #3
	LOAD 8(GB), R3
	STORE R3, 0(SP)
	LOAD #3, R3
	STORE R3, -1(SP)
	LOAD #4, R3
	STORE R3, -2(SP)
	LOAD 0(SP), R3
	CMP #null, R3
	BEQ dereferencement_null
	LOAD 0(R3), R3
	BSR 2(R3)
	SUBSP #3
	LOAD R0, R2
	STORE R2, -2(SP)
	LOAD 0(SP), R2
	CMP #null, R2
	BEQ dereferencement_null
	LOAD 0(R2), R2
	BSR 2(R2)
	SUBSP #3
	LOAD R0, R1
	STORE R1, 16(GB)
	LOAD 9(GB), R2
	CMP #0, R2
	BLE E_Fin.1
	LOAD 10(GB), R2
	CMP #0, R2
	BGT Etiq_True.0
E_Fin.1:
	LOAD 11(GB), R2
	CMP #0, R2
	BLT Etiq_True.0
	LOAD #0, R1
	BRA Etiq_Fin.0
Etiq_True.0:
	LOAD #1, R1
Etiq_Fin.0:
	STORE R1, 17(GB)
	LOAD 9(GB), R2
	LOAD 10(GB), R3
	CMP R3, R2
	BEQ E_Fin.3
	LOAD 10(GB), R3
	LOAD 11(GB), R2
	CMP R2, R3
	BNE Etiq_True.2
	LOAD 9(GB), R2
	LOAD 11(GB), R3
	CMP R3, R2
	BEQ Etiq_True.2
E_Fin.3:
	LOAD #0, R1
	BRA Etiq_Fin.2
Etiq_True.2:
	LOAD #1, R1
Etiq_Fin.2:
	STORE R1, 18(GB)
	ADDSP #2
	LOAD 8(GB), R2
	STORE R2, 0(SP)
	LOAD 9(GB), R2
	STORE R2, -1(SP)
	LOAD 0(SP), R2
	CMP #null, R2
	BEQ dereferencement_null
	LOAD 0(R2), R2
	BSR 3(R2)
	SUBSP #2
	LOAD R0, R3
	CMP #0, R3
	BEQ E_Fin.5
	ADDSP #2
	LOAD 8(GB), R2
	STORE R2, 0(SP)
	LOAD 10(GB), R2
	STORE R2, -1(SP)
	LOAD 0(SP), R2
	CMP #null, R2
	BEQ dereferencement_null
	LOAD 0(R2), R2
	BSR 3(R2)
	SUBSP #2
	LOAD R0, R3
	CMP #0, R3
	BEQ E_Fin.5
	ADDSP #2
	LOAD 8(GB), R2
	STORE R2, 0(SP)
	LOAD #1, R2
	OPP R2, R2
	STORE R2, -1(SP)
	LOAD 0(SP), R2
	CMP #null, R2
	BEQ dereferencement_null
	LOAD 0(R2), R2
	BSR 3(R2)
	SUBSP #2
	LOAD R0, R3
	CMP #0, R3
	BEQ Etiq_True.4
E_Fin.5:
	LOAD #0, R1
	BRA Etiq_Fin.4
Etiq_True.4:
	LOAD #1, R1
Etiq_Fin.4:
	STORE R1, 19(GB)
	LOAD 9(GB), R1
	FLOAT R1, R1
	LOAD 10(GB), R3
	FLOAT R3, R3
	DIV R3, R1
	BOV overflow_error
	STORE R1, 20(GB)
	LOAD 20(GB), R1
	MUL #0x1.4p3, R1
	BOV overflow_error
	INT R1, R1
	STORE R1, 21(GB)
	LOAD 9(GB), R1
	STORE R1, 22(GB)
; Beginning of main instructions:
	LOAD 12(GB), R1
	WINT
	WNL
	LOAD 13(GB), R1
	WINT
	WNL
	LOAD 14(GB), R1
	WINT
	WNL
	LOAD 15(GB), R1
	WINT
	WNL
	LOAD 16(GB), R1
	WINT
	WNL
	LOAD 17(GB), R3
	CMP #0, R3
	BEQ E_Sinon.6
	LOAD #1, R1
	WINT
	BRA E_Fin.6
E_Sinon.6:
	LOAD #0, R1
	WINT
E_Fin.6:
	LOAD 18(GB), R3
	CMP #0, R3
	BEQ E_Sinon.7
	LOAD #1, R1
	WINT
	BRA E_Fin.7
E_Sinon.7:
	LOAD #0, R1
	WINT
E_Fin.7:
	LOAD 19(GB), R3
	CMP #0, R3
	BEQ E_Sinon.8
	LOAD #1, R1
	WINT
	BRA E_Fin.8
E_Sinon.8:
	LOAD #0, R1
	WINT
E_Fin.8:
	WNL
	LOAD 9(GB), R3
	CMP #0, R3
	BLE E_Sinon.9
	LOAD 10(GB), R3
	CMP #10, R3
	BLT E_fin.10
	LOAD 11(GB), R3
	CMP #2, R3
	BNE E_Sinon.9
E_fin.10:
	ADDSP #2
	LOAD 8(GB), R2
	STORE R2, 0(SP)
	LOAD 9(GB), R2
	ADD 10(GB), R2
	BOV overflow_error
	STORE R2, -1(SP)
	LOAD 0(SP), R2
	CMP #null, R2
	BEQ dereferencement_null
	LOAD 0(R2), R2
	BSR 3(R2)
	SUBSP #2
	LOAD R0, R3
	CMP #0, R3
	BEQ E_Sinon.9
	LOAD #1, R1
	WINT
	WNL
	BRA E_Fin.9
E_Sinon.9:
	LOAD #0, R1
	WINT
	WNL
E_Fin.9:
	LOAD 21(GB), R1
	WINT
	WNL
	LOAD 10(GB), R3
	LOAD 22(GB), R2
	CMP R2, R3
	BLE E_Sinon.11
	LOAD 10(GB), R2
	STORE R2, 22(GB)
	BRA E_Fin.11
E_Sinon.11:
E_Fin.11:
	LOAD 11(GB), R2
	LOAD 22(GB), R3
	CMP R3, R2
	BLE E_Sinon.12
	LOAD 11(GB), R3
	STORE R3, 22(GB)
	BRA E_Fin.12
E_Sinon.12:
E_Fin.12:
	LOAD 22(GB), R1
	WINT
	WNL
	HALT
; end main program
code.Object.equals:
	LOAD -2(LB), R0
	LOAD -3(LB), R1
	CMP R0, R1
	BEQ equal
not_equal:
	LOAD #0, R0
	RTS
equal:
	LOAD #1, R0
	RTS
; Initialisation des champs de la classe Helper
init.Helper:
	RTS
code.Helper.compute:
	LOAD -3(LB), R0
	MUL #2, R0
	BOV overflow_error
	ADD -4(LB), R0
	BOV overflow_error
	BRA fin.Helper.compute
	BRA fin.Helper.compute
etiq_fin13:
	WSTR "Erreur : sortie de la methode fin.Helper.computesans return"
	WNL
	ERROR
fin.Helper.compute:
	RTS
code.Helper.check:
	TSTO #1
	PUSH R2
	LOAD -3(LB), R2
	CMP #0, R2
	BLE E_Fin.15
	LOAD -3(LB), R2
	CMP #100, R2
	BLT Etiq_True.14
E_Fin.15:
	LOAD #0, R0
	BRA Etiq_Fin.14
Etiq_True.14:
	LOAD #1, R0
Etiq_Fin.14:
	BRA fin.Helper.check
	BRA fin.Helper.check
etiq_fin16:
	WSTR "Erreur : sortie de la methode fin.Helper.checksans return"
	WNL
	ERROR
fin.Helper.check:
	POP R2
	RTS
code.Helper.getValue:
	TSTO #1
	PUSH R2
	LOAD #42, R0
	BRA fin.Helper.getValue
	BRA fin.Helper.getValue
etiq_fin17:
	WSTR "Erreur : sortie de la methode fin.Helper.getValuesans return"
	WNL
	ERROR
fin.Helper.getValue:
	POP R2
	RTS
stack_overflow_error:
	WSTR "Error : Stack Overflow"
	WNL
	ERROR
overflow_error:
	WSTR "Error : Overflow during arithmetic operation"
	WNL
	ERROR
division_by_zero_error:
	WSTR "Error : Division by zero is forbidden"
	WNL
	ERROR
io_error:
	WSTR "Error : Input / Output Error "
	WNL
	ERROR
tas_plein:
	WSTR "Error : Heap OverFlow"
	WNL
	ERROR
dereferencement_null:
	WSTR "Error : Dereferencing null"
	WNL
	ERROR
; end main program
